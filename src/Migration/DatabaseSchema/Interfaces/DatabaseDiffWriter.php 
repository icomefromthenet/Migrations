<?php
namespace Migration\DatabaseSchema\Interfaces;

/**
 * File containing the DiffWriter interface
 *
 * @package DatabaseSchema
 * @version 1.4.4
 * @copyright Copyright (C) 2005-2010 eZ Systems AS. All rights reserved.
 * @license http://ez.no/licenses/new_bsd New BSD License
 */
/**
 * This class provides the interface for database schema difference writers
 *
 * @package DatabaseSchema
 * @version 1.4.4
 */
interface DatabaseDiffWriter extends DiffWriter
{
    /**
     * Applies the differences contained in $schemaDiff to the database handler $db
     *
     * @param Migration\Database\Handler    $db
     * @param Migration\DatabaseSchema\Diff $schemaDiff
     */
    public function applyDiffToDb( Migration\Database\Handler $db, Migration\DatabaseSchema\Diff $schemaDiff );

    /**
     * Returns an array with SQL DDL statements from the differences from $schemaDiff
     *
     * Converts the schema differences contained in $schemaDiff to SQL DDL that
     * can be used to upgrade an existing database to the new version with the
     * differences from $Diff. The SQL queries are returned as an array.
     *
     * @param Migration\DatabaseSchema\Diff $Diff
     * @return array(string)
     */
    public function convertDiffToDDL( Migration\DatabaseSchema\Diff $schemaDiff );
}
/* End of File */
